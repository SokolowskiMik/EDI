
<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <link rel="stylesheet" href="styles.css" />
    <script src="https://kit.fontawesome.com/c2e5f11c19.js" crossorigin="anonymous"></script>
    <script src="script.js"></script>
    <script src=
"https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.5.0/Chart.min.js">
    </script>
  </head>
  <body>
    <div id="page-wrapper">
      <header id="header">
        <div class="logo">
            <i class="fa-solid fa-database"> EDI Group Project</i>
        </div>

        <nav id="nav-bar">
          <ul>
            <li><a class="nav-link" href="#">Dominik Graczek</a></li>
            <li><a class="nav-link" href="#">Filip Dzięgło</a></li>
            <li><a class="nav-link" href="#">Mikołaj Sokołowski</a></li>
          </ul>
        </nav>
      </header>

      <div class="container"></div>

      <!-- data section -->
      <section id="hero">
        <h2>Mocaroo API</h2>
        <div class="container mt-3">
          <!-- add a button to trigger the table display -->
          <button class="btn btn-secondary" id="show-table" onclick="getData(0)">Show 5+</button>
          <button class="btn btn-secondary" id="show-table" onclick="getData(100)">Show all</button>
        </div>
        
      </section>

      <table class="table table-bordered table-dark table-style" id="zawodnicy" display="none">
      </table>

      <section id="hero">
        <h2>DATA CHARTS</h2>
        
        <canvas id="bar-chart" width="800" height="450">
        </canvas>
        <script>
      
            getData();
      
            async function getData() {
                const response = await fetch(
    'https://my.api.mockaroo.com/yenga.json?key=25ccbe90');
                console.log(response);
                const data = await response.json();
                console.log(data);
                length = data.length;
                console.log(length);
      
                labels = [];
                values = [];
                for (i = 0; i < length; i++) {
                    labels.push(data[i].pseudonim);
                    values.push(data[i].ranking);
                }
      
      
                new Chart(document.getElementById("bar-chart"), {
                    type: 'bar',
                    data: {
                        labels: labels,
                        datasets: [
                            {
                                label: "ranking",
                                backgroundColor: ["#3e95cd",
                                                  "#8e5ea2", 
                                                  "#3cba9f", 
                                                  "#e8c3b9", 
                                                  "#c45850",
                                                  "#CD5C5C", 
                                                  "#40E0D0"],
                                data: values
                            }
                        ]
                    },
                    options: {
                        legend: { display: false },
                        title: {
                            display: true,
                            text: 'ranking graczy'
                        }
                    }
                });
      
            }
      
        </script>
      </section>

      <div class="container">
        <footer>
          <ul>
            <li><a href="#">Contact</a></li>
          </ul>
          <span>Copyright 2022</span>
        </footer>
      </div>
    </div>
    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js" integrity="sha384-DfXdz2htPH0lsSSs5nCTpuj/zy4C+OGpamoFVy38MVBnE+IbbVYUew+OrCXaRkfj" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.16.6/dist/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js" integrity="sha384-B4gt1jrGC7Jh4AgTPSdUtOBvfO8shuf57BaghqFfPlYxofvL8/KUEfYiJOMMV+rV" crossorigin="anonymous"></script>
  </body>
</html>
